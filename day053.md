1. jsp(mvc1, mvc2) + oracle
2. spring
3. spring boot

■ 스프링
---------------------
#1. SPRING 특징
---------------------
▶ STEP0. JSP
1. MVC1 - JSP (CONTROLLER)   스파게티
2. MVC2 - SERVELT (CONTROLLER)   부품조립  ☆

▶ STEP1.  SW 재사용 방안들
Q. SW 재사용
- copy & paste , 복붙
- 메서드
- 클래스의 사용  
   <<interface>>
      BoardService - exec()
        △..... BList
        △..... BInsert

▶ STEP2. 프레임워크
2-1. 프레임워크? ☆
[디자인패턴 + 라이브러리 = 프레임워크]
1. 디자인패턴 (가이드라인)
2. 라이브러리 (특정기술구현을 라이브러리의 형태)   
   $("#id").on("click",);   , $.ajax()

- 소프트웨어 개발의 뼈대역할
- 애플리케이션들의 최소한의 공통점을 찾아서 하부구조를 제공
  개발자들은 개발에 집중
- 제공되는 유틸의 모음, 레시피들의 모음

2-2. 프레임워크의 주체
프레임워크는 [프레임워크]에서 실행흐름을 담당.
※ 라이브러리는 [개발자]가 실행흐름을 담당.

3. 프레임워크의 특징
★ IOC (Inversion of Control)  제어의 역전
- 인스턴스의 생성~소멸까지 개발자가 아닌 컨테이너가 하는것
- POJO(Plain old java object)
  필요에 따라 재활용 될수 있는 방식으로 설계된 객체

  Class A{}
  A    a1 = new A();
  생성    →   초기화    →   서비스     →   소멸
  
  ※ IOC가 아닌경우
    [    개발자 생성 → Class BList  
      개발자 생성 → Class BInsert
         개발자 생성 → Class BEdit    ] 컨테이너

  ※ IOC인  경우
    [    개발자 사용 ← Class BList  
      개발자 사용 ← Class BInsert
         개발자 사용 ← Class BEdit    ] 컨테이너
  
★ IOC 분류
DI (   Dependency Injection :  의존성 주입  )
   - 각클래스 간의 의존관계  [설정파일]을 통해 [컨테이너]가 자동으로 연결


4. 프레임워크 구성기능요소
[    AOP   ] [   ORM -DAO-Mybatis,Jpa   ] [Spring web MVC] ......
[         Spring Core          ] 

실습1)  spring1     [◎ 프로젝트명 : spring001]
  1. 스프링 3버젼 다운로드
  2. 다운로드 경로
      https://github.com/spring-attic/toolsuite-distribution/wiki/Spring-Tool-Suite-3
  3. 압축풀기 ( 공백, 한글, 특수기호 : x ,  여기에 압축풀기 )
  4.  E:\hyojung\6_spring\sts-bundle\sts-3.9.18.RELEASE
      > STS.exe
  5.  순수 스프링버젼
    1. dynamic web project - spring001
    2. configure  - [Convert to Maven Project]
    3. spring      - add Spring project Nature
    4. java se-11 / project facts, build path

    Q1.  [◎ 프로젝트명 : ex1]  스프링프로젝트 만들어주세요~!  ※  힌트)    
      1. dynamic web project - spring001
      2. configure  - [Convert to Maven Project]
      3. spring      - add Spring project Nature 
      4. java se-11 / project facts, build path


실습2)   spring2     [◎ 프로젝트명 : spring002] 
  ▶1. 롬복 셋팅
  ▶2. 롬복 셋팅

  1. 프로젝트만들기
  2. 롬복다운로드
  3. 롬복설치
  4. 스프링에서 사용하기

  ---
  5. ioc + di
  DI (   Dependency Injection :  의존성 주입  )
   - 각클래스 간의 의존관계  [설정파일]을 통해 [컨테이너]가 자동으로 연결

    [AnimalFarm]  (사용)→    [<<interface>>Animal]   
          ↑(삽입)           ↑(구현)          ↑ (구현)   
    [beans.xml ]  (생성)→     [Cat                /                  Dog]








  Q2. 프로젝트명 : ex2

  1-1. 스프링프로젝트 만들어주세요~!
    ※ 힌트)
     1. dynamic web project - spring002
     2. configure - [Convert to Maven Project]
     3. spring  - add Spring prject Nature
     4. java se - 11 / project facts, build path

  1-2. 롬복이용해서 @Data로 설정 - 생성자, getters/setters, toString
  [com.company.ex2]  - [UserInfo]  private int no; private String name; private int age;

 

<!-- 수정 -->
<!-- 수정 -->
<dependencies>
   <!-- https://mvnrepository.com/artifact/junit/junit -->
   <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.springframework/spring-context -->
   <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-context</artifactId>
      <version>4.3.27.RELEASE</version>
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.springframework/spring-test -->
   <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-test</artifactId>
      <version>4.3.27.RELEASE</version>
      <scope>test</scope>
   </dependency>
   
   <!--  MYSQL + CONNECTOR-J       -->
   <dependency>
      <groupId>com.oracle.database.jdbc</groupId>
      <artifactId>ojdbc11</artifactId>
      <version>21.9.0.0</version>
   </dependency>
   <!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java -->
   <dependency>
       <groupId>mysql</groupId>
       <artifactId>mysql-connector-java</artifactId>
       <version>8.0.28</version>
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc -->
   <dependency>
       <groupId>org.springframework</groupId>
       <artifactId>spring-jdbc</artifactId>
       <version>4.3.20.RELEASE</version>
   </dependency>
         
   <!-- MYBATIS -->
   <!-- https://mvnrepository.com/artifact/org.mybatis/mybatis -->
   <dependency>
       <groupId>org.mybatis</groupId>
       <artifactId>mybatis</artifactId>
       <version>3.5.6</version>
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.mybatis/mybatis-spring -->
   <dependency>
       <groupId>org.mybatis</groupId>
       <artifactId>mybatis-spring</artifactId>
       <version>2.0.6</version>
   </dependency>
   
   <!-- webmvc -->
   <!-- webmvc -->
   <!-- webmvc -->
      <!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc -->
   <dependency>
       <groupId>org.springframework</groupId>
       <artifactId>spring-webmvc</artifactId>
       <version>3.2.17.RELEASE</version>
   </dependency>
   
    <!-- https://mvnrepository.com/artifact/javax.servlet/jstl -->
    <!-- https://mvnrepository.com/artifact/javax.servlet/jstl -->
   <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>jstl</artifactId>
      <version>1.2</version>
   </dependency>
         
   <!-- LOMBOK  -->      
   <!-- https://mvnrepository.com/artifact/org.projectlombok/lombok -->
   <dependency>
       <groupId>org.projectlombok</groupId>
       <artifactId>lombok</artifactId>
       <version>1.18.18</version>
       <scope>provided</scope>
   </dependency>            
         
   <!-- AOP -->   
   <!-- AOP -->      
   <!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt -->
   <dependency>
       <groupId>org.aspectj</groupId>
       <artifactId>aspectjrt</artifactId>
       <version>1.7.3</version>
      <!-- <scope>runtime</scope> -->
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver -->
   <dependency>
       <groupId>org.aspectj</groupId>
       <artifactId>aspectjweaver</artifactId>
       <version>1.7.3</version>
       <!-- <scope>runtime</scope> -->
   </dependency>
   <!-- https://mvnrepository.com/artifact/org.springframework/spring-aop -->
   <dependency>
       <groupId>org.springframework</groupId>
       <artifactId>spring-aop</artifactId>
       <version>4.3.28.RELEASE</version>
   </dependency>
         
         
   <!-- HikariCP -->
   <!-- HikariCP -->
   <!-- https://mvnrepository.com/artifact/com.zaxxer/HikariCP -->
   <dependency>
       <groupId>com.zaxxer</groupId>
       <artifactId>HikariCP</artifactId>
       <version>2.7.4</version>
   </dependency>
      
   <!-- https://mvnrepository.com/artifact/org.bgee.log4jdbc-log4j2/log4jdbc-log4j2-jdbc4 -->
   <dependency>
       <groupId>org.bgee.log4jdbc-log4j2</groupId>
       <artifactId>log4jdbc-log4j2-jdbc4</artifactId>
       <version>1.16</version>
   </dependency>
   <!-- HikariCP -->
   <!-- HikariCP -->
   <!-- HikariCP -->          
         
</dependencies>
<!-- 수정 -->
<!-- 수정 -->  





1. setter

class MyA{
  private String name;
  private Animal ani;

  public MyA(String name, Animal ani){
        this.name = 
  }

}


<bean id = "myA"  class = "com.company.Mya">
    <property name="name"  value="sally"/>
    <property name="ani"   ref=""/> 
</bean>

2. 생성자
<bean id = "myA"  class = "com.company.Mya">
    <constructor-arg  index="0"    value="${name}"/>
    <constructor-arg  index="1"    value="${ani}"/>
</bean>


3. di-properties
name=sally
ani=cat
<context:property-placeholder location="classpath:config/test.properties"/>
<bean id = "myA"  class = "com.company.Mya">
    <constructor-arg  index="0"    value="${name}"/>
    <constructor-arg  index="1"    value="${ani}"/>
</bean>

-----------------
#3. Bean
-----------------

1. xml   vs Annotation
>> xml: 운영 
>> Annotation: 개발

2. @Component
 - @Component 일반적인 컴포넌트  <bean > 스프링이 관리하는 객체
 - @Component 구체화된 형식
      @Controller  웹요청받아서 응답
      @Service 서비스 레이어, 비즈니스 로직
      @Repository 데이터베이스

3. Bean 의존관계주입
    1. @Autowired - 정밀한 의존관계
        -프로퍼티, setter, 생성자, 적용
    2. @Qualifier - 동일한 타입의 bean 구분
    3. @Value  단순값
    4. @Resource - 자원연결 ( . properties)

4. component - scan
<context:component-scan base-package="경로설정"/>


----------------------------
#4  DB
---------------------------
1. DataSource
 + SimpleDriverDataSource  - 가장단순한 버전

2. mybatis
 - sql을 별도로 파일분리해서 관리
 - orm (object relation mapping  ) 프레임워크

3. 설정내용
root-context.xml 환경정보 설정
db.propertis       db정보설정
SqlSessionFactoryBean : SqlSession 생성 및 관리
SqlSession   : sql 실행, 트랜잭션
mapper.xml



spring 
1. sql 에서 데이터 만들기
2. sql 문법 적용해서 만들기
3. dto 생성
 - mybatis-config.xml 생성
4. 


   연습문제) 프로젝트 새로만들기~!
      Q1. spring 프로젝트 spring005 만드시오.
      Q2. datasource설정하는 
         root-context.xml 과  application.properties를 작성하시오.
      Q3. ApplicationContext, DataSource를 테스트하시오.
      Q4. mybatis를   
         root-context.xml 에 설정하고 mybatis 테스트를 하시오.
      Q5. table 작성 - sql 기본구문 5개 작성
      Q6. dto 작성
      Q7. dao 작성
      Q8. dao 테스트

      SQL> desc sboard1;
      Name                                      Null?    Type
      ----------------------------------------- -------- ----------------------------
      ID                                        NOT NULL NUMBER
      APP_USER_ID                               NOT NULL NUMBER
      BTITLE                                    NOT NULL VARCHAR2(1000)
      BCONTENT                                  NOT NULL CLOB
      BPASS                                     NOT NULL VARCHAR2(255)
      BFILE                                              VARCHAR2(255)
      BHIT                                               NUMBER(10)   default 0
      BIP                                       NOT NULL VARCHAR2(255)
      CREATE_AT                                          TIMESTAMP(6)  default sysdate




      insert:
         insert into sboard1(ID , APP_USER_ID, BTITLE, BCONTENT, BPASS, BIP)
         values (ID , APP_USER_ID, BTITLE, BCONTENT, BPASS, BIP)
      selectAll
         select * from sboard1  order by id desc;

    select
        select * from sboard1 where id=4;
    update
        update sboard1
        set BTITLE='new1', BCONTENT='content1', BPASS='content1'
        where id=4;

    delete
        delete from sboard1 where id=4;